{% extends 'principal.html'%}
{%block conteudo %}
<form action = "{{url_for('perfilProfessor')}}" method = "post">
<div class="flex-cadastro formPerfil">
  <div class="cadastro ajustePerfil">
    <h1 style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;color:red;">Perfil</h1>
    {% if foto_bd %}
      <img class="perfil" src="{{url_for('static', filename='uploads/{}'.format(foto_bd))}}" id="imgPerfil">
    {% else %}
    <img class="perfil" src="{{url_for('static', filename='uploads/{}'.format(foto_bd))}}" id="imgPerfil" onclick="startVideoFromCamera()">
    {% endif %}
        <video id="video" autoplay style="position: fixed; top:15%"></video>
          <canvas id="canvas" hidden="true"></canvas>
          <div class="btn-flex-between">
            <button type="button" class="btn btn-danger" value="Abrir Câmera" onclick="startVideoFromCamera()">Abrir Câmera</button>
            <button type="button" class="btn btn-danger" value="Tirar Foto" id="tiraFoto">Tirar Foto</button>
          </div>
              <input id="fotoPerfil" name="fotoPerfil" type="text" hidden="true">
      <br>
      <div class="mb-3">
        <label for="inome" class="form-label posts">NIF</label>
        <p class="form-control" name="ra" id="ra">{{nif}}</p>
      </div>

      <div class="mb-3">
        <label for="inome" class="form-label posts">Nome Completo</label>
        <input type="text" class="form-control" name="nome" id="nome" value="{{nome_bd}}" required>
      </div>
      
      <div class="mb-3">
        <label for="icpf" class="form-label">CPF</label>
        <input type="number" class="form-control" name="cpf" id="icpf" value="{{cpf_bd}}">
      </div>

      <div class="mb-3">
        <label for="ira" class="form-label">RG</label>
        <input type="number" class="form-control" name="rg" id="irg" value="{{rg_bd}}">
      </div>

      <div class="mb-3">
        <label for="inascimento" class="form-label">DATA DE NASCIMENTO</label>
        <input type="date" class="form-control" name="nascimento" id="inascimento" maxlength="11" value= "{{data_nas_bd}}"  required>
      </div>

      <div class="mb-3">
        <label for="isexo" class="form-label">SEXO</label>
        <select class="form-select" name="sexo" id="isexo" aria-label="Default select example">
          <option selected>{{sexo_bd}}</option>
          <option value="M">Masculino</option>
          <option value="F">Feminino</option>
          <option value="O">Outro</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="iendereco" class="form-label">ENDEREÇO</label>
        <input type="text" class="form-control" name="endereco" id="iendereco" value= "{{end_bd}}">
      </div>

      <div class="mb-3">
        <label for="itelefone" class="form-label">Telefone</label>
        <input type="tel" class="form-control" name="telefone" id="itelefone" aria-describedby="emailHelp"  value= "{{tel_bd}}" >
      </div>

      <div class="mb-3">
        <label for="itelefone" class="form-label">Formaçao</label>
        <input type="tel" class="form-control" name="formacao" id="itelefone" aria-describedby="emailHelp"  value= "{{form_bd}}">
      </div>

      <div class="mb-3">
        <label for="iescola" class="form-label">Disciplina ministrada</label>
        <input type="text" class="form-control" name="disc" id="iescola" required  value= "{{disc_bd}}">
      </div>

      <div class="mb-3">
        <label for="iemail" class="form-label">Endereço de Email</label>
        <input type="email" class="form-control" name="email" id="iemail" aria-describedby="emailHelp" value= "{{email_bd}}" >
      </div>
    
    
      <div class="mb-3">
        <label for="isenha" class="form-label">Senha</label>
        <input type="password" class="form-control" name="senha" id="senha" required value= "{{senha_bd}}">
      </div>
      
      <div class="btn-flex-between">
        <input type="submit" class="btn btn-danger" value="Alterar">
        <button type="button" class="btn btn-danger btnDeletar" value="Deletar Perfil" onclick="abreModal()">Editar Perfil</button>
      </div>
    </form>

    <form class="frmDeletaPerfil" id="formCancelar" action="{{url_for('deletarPerfilProfessor')}}" method = "post">
      <h2>Atenção !!!</h2>
      <p>Tem que certeza que gostaria de deletar seu perfil? Essa ação não poderá ser desfeita.</p>
      <div class="btn-flex-between">
        <input type="submit" class="btn btn-danger btnDeletar" value="Sim">
        <button type="button" class="btn btn-danger cancelar" onclick="fechaModal()">Cancelar</button>
      </div>
    </form>
  </div>
</div>
<script>
  let frmDeletaPerfil = document.getElementById('formCancelar');
  function abreModal(){
    frmDeletaPerfil.style.display = "block";
  }
  function fechaModal(){
    frmDeletaPerfil.style.display = "none";
  }
</script>
<script src="{{url_for('static', filename='js/camera.js')}}"></script>
{%endblock %}